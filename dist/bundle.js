(()=>{"use strict";var t,e=function(){function t(t,e,i){this.x=t,this.y=e,this.id=i}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getId=function(){return this.id},t.prototype.getContent=function(){return this.content},t.prototype.setContent=function(t){this.content=t},t}(),i=function(){function t(t,e,i){this.id=t,this.x=e,this.y=i}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getId=function(){return this.id},t}(),n=(t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)},function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),o=function(t){function e(e,i,n){var o=t.call(this,e,i,n)||this;return o.nodesPastThrough=[],o.status="",o}return n(e,t),e.prototype.getDistance=function(){return this.distance},e.prototype.setDistance=function(t){this.distance=t},e.prototype.getVisitStatus=function(){return this.visitStatus},e.prototype.setVisitStatus=function(t){this.visitStatus=t},e.prototype.setStatus=function(t){this.status=t},e.prototype.getStatus=function(){return this.status},e.prototype.getNumberOfEdges=function(){return this.numberOfEdges},e.prototype.setNumberOfEdges=function(t){this.numberOfEdges},e.prototype.setNodePastThrough=function(t){this.nodePastThrough=t},e.prototype.getNodePastThrough=function(){return this.nodePastThrough},e.prototype.getNodesPastThrough=function(){return this.nodesPastThrough},e.prototype.addNodePastThrough=function(t){this.nodesPastThrough.push(t)},e}(i),s=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}return s(e,t),e}(i),g=function(){function t(t,i){this.squares=[],this.x=t,this.y=i;for(var n=0;n<i;n++)for(var s=0;s<t;s++){var r=t*n+s;this.squares.push(new e(s,n,r)),this.squares[t*n+s].setContent(new o(r,s,n))}}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getSquares=function(){return this.squares},t.prototype.getSquare=function(t){for(var e=0;e<this.squares.length;e++)if(this.squares[e].getId()==t)return this.squares[e]},t.prototype.placeWallOnSquare=function(t){var e=this.getSquare(t),i=e.getX(),n=e.getY();this.getSquare(t).setContent(new r(t,i,n))},t}(),u=function(){function t(){this.mainBody=document.querySelector("#main")}return t.prototype.drawGrid=function(t){var e=document.createElement("div");e.id="grid",e.className="grid-container";var i=screen.availWidth/30;console.log(screen.availWidth),i=Math.round(i),console.log(i),e.style.gridTemplateColumns="repeat("+t.getX()+", "+100/t.getX()+"vw)",e.style.gridTemplateRows="repeat("+t.getY()+", "+100/t.getY()+"vh";for(var n=t.getSquares(),o=0;o<n.length;o++)e.appendChild(this.drawSquare(n[o]));this.mainBody.appendChild(e)},t.prototype.drawSquare=function(t){var e=document.createElement("div");return e.className="grid-square",e.id=""+t.getId(),e},t.prototype.drawNode=function(t){var e=document.createElement("div");return e.className="grid-square",e.id=""+t.getId(),e},t.prototype.highlightSquare=function(t,e){var i=document.getElementById(""+t);i.style.backgroundColor=""+e,i.style.border=""},t.prototype.highlightPath=function(t){var e=document.getElementById(""+t),i=document.createElement("img");i.src="https://img.icons8.com/material-outlined/24/000000/filled-circle--v1.png",i.style.height="100%",i.style.width="100%",e.appendChild(i)},t.prototype.unhighlightStart=function(t){document.getElementById(""+t).innerHTML=""},t.prototype.highlightStart=function(t){var e=document.getElementById(""+t),i=document.createElement("img");i.src="https://img.icons8.com/ios-filled/50/000000/runner-starting-the-race.png",i.style.height="100%",i.style.width="100%",e.appendChild(i)},t.prototype.highlightEnd=function(t){var e=document.getElementById(""+t),i=document.createElement("img");i.src="https://img.icons8.com/android/24/000000/finish-flag.png",i.style.height="100%",i.style.width="100%",e.appendChild(i)},t}(),h=function(){function t(t){this.unvisitedNodes=[],this.shortestPath=[],this.visitedNodes=[],this.grid=t,this.startingNode=null,this.endingNode=null;for(var e=t.getSquares(),n=0;n<e.length;n++){var o=e[n].getContent();o instanceof i&&this.unvisitedNodes.push(o)}this.totNumberOfEdges=0}return t.prototype.getStartingNode=function(){return this.startingNode},t.prototype.setStartingNode=function(t){this.startingNode=t,this.startingNode.setStatus("S")},t.prototype.getEndingNode=function(){return this.endingNode},t.prototype.setEndingNode=function(t){this.endingNode=t,this.endingNode.setStatus("F")},t.prototype.getVisitedNodes=function(){return this.visitedNodes},t.prototype.resetVisitedNodes=function(){this.visitedNodes=[]},t.prototype.resetUnvisitedNodes=function(){this.unvisitedNodes=[];for(var t=this.grid.getSquares(),e=0;e<t.length;e++){var n=t[e].getContent();n instanceof i&&this.unvisitedNodes.push(n)}for(e=0;e<this.unvisitedNodes.length;e++)this.unvisitedNodes[e].setVisitStatus(!1)},t.prototype.setShortestPath=function(t){this.shortestPath=t},t.prototype.resetShortestPath=function(){this.shortestPath=[]},t.prototype.getShortestPath=function(){return this.shortestPath},t.prototype.getUnvisitedNodes=function(){return this.unvisitedNodes},t.prototype.setDistances=function(){for(var t=0;t<this.unvisitedNodes.length;t++)"S"==this.unvisitedNodes[t].getStatus()?this.unvisitedNodes[t].setDistance(0):this.unvisitedNodes[t].setDistance(1/0);this.unvisitedNodes.sort((function(t,e){return t.getDistance()>e.getDistance()?1:-1}))},t.prototype.setNumberOfEdges=function(){for(var t=0;t<this.unvisitedNodes.length;t++)"S"==this.unvisitedNodes[t].getStatus()?this.unvisitedNodes[t].setNumberOfEdges(0):this.unvisitedNodes[t].setNumberOfEdges(1/0)},t.prototype.generateMaze=function(){for(var t=0;t<this.grid.getSquares().length;t++)this.grid.getSquare(t).getX(),this.grid.getSquare(t).getY(),this.grid.placeWallOnSquare(t)},t.prototype.performAStart=function(t){},t.prototype.performDijkstra=function(t){for(var e=this.getUnvisitedNodes(),i=[],n=4,o=(this.totNumberOfEdges,0);o<e.length;o++)e[o]instanceof r||(t.getX()-e[o].getX()!=1&&t.getX()-e[o].getX()!=-1||t.getY()-e[o].getY()!=0||t.getNodePastThrough()==e[o])&&(t.getY()-e[o].getY()!=1&&t.getY()-e[o].getY()!=-1||t.getX()-e[o].getX()!=0||t.getNodePastThrough()==e[o])||i.push(e[o]);for(o=0;o<i.length;o++){n=3,9==i[o].getX()||i[o].getX()==this.grid.getX()?n=0!=i[o].getY()||i[o].getY()!=this.grid.getY()?2:1:0!=i[o].getY()&&i[o].getY()!=this.grid.getY()||(n=9!=i[o].getX()||i[o].getX()!=this.grid.getX()?2:1);var s=n+t.getNumberOfEdges(),g=i[o].getX()-t.getX(),u=i[o].getY()-t.getY(),h=Math.pow(Math.pow(g,2)+Math.pow(u,2),.5)+t.getDistance();i[o].getDistance()==h?(i[o].getNumberOfEdges()>s&&(i[o].setNumberOfEdges(s),i[o].setNodePastThrough(t)),i[o].setNumberOfEdges(s),i[o].addNodePastThrough(t)):i[o].getDistance()>h&&(i[o].setNumberOfEdges(s),this.totNumberOfEdges=s,i[o].setNumberOfEdges(s),i[o].setDistance(h),i[o].addNodePastThrough(t),i[o].setNodePastThrough(t))}t.setVisitStatus(!0),this.visitedNodes.push(t),e.splice(e.indexOf(t),1),e.sort((function(t,e){return t.getDistance()>e.getDistance()?1:-1}))},t}();new(function(){function t(t){var e=this;this.placeImage=function(t){var i=t.target.id;if(null==e.image){var n=e.grid.getSquare(i);n.getX(),n.getY(),e.grid.placeWallOnSquare(i),e.draw.highlightSquare(i,"gray")}"start"==e.image.type?(null!=e.startingNode&&e.draw.unhighlightStart(e.startingNode.getId()),e.selectStartingNode(e.grid.getSquare(i).getContent()),e.draw.highlightStart(i)):"end"==e.image.type&&(null!=e.endingNode&&e.draw.unhighlightStart(e.endingNode.getId()),e.selectEndingNode(e.grid.getSquare(i).getContent()),e.draw.highlightEnd(i)),null!=e.startingNode&&null!=e.endingNode&&e.runDijkstra()},this.grabImage=function(t){var i=t.target;e.image={type:""+i.id,src:""+i.src}},this.runVisualiser=function(){e.runDijkstra()},this.grid=t,this.draw=new u,this.logic=new h(t),this.startingNode=null,this.endingNode=null,this.image=null}return t.prototype.startApplication=function(){this.draw.drawGrid(this.grid),this.runApplication()},t.prototype.runApplication=function(){for(var t=document.querySelector("#grid").children,e=0;e<t.length;e++)t[e].addEventListener("click",this.placeImage);document.querySelector(".visualise").addEventListener("click",this.runVisualiser);var i=document.getElementsByTagName("img");for(e=0;e<i.length;e++)i[e].addEventListener("mousedown",this.grabImage);document.querySelector("#maze")},t.prototype.selectStartingNode=function(t){this.startingNode=t},t.prototype.selectEndingNode=function(t){this.endingNode=t},t.prototype.runDijkstra=function(){for(var t=this.logic.getShortestPath(),e=0;e<t.length;e++)this.draw.highlightSquare(t[e].getId(),"white");this.logic.resetShortestPath(),t=this.logic.getShortestPath(),this.logic.resetUnvisitedNodes(),this.logic.resetVisitedNodes(),this.logic.setStartingNode(this.startingNode),this.logic.setEndingNode(this.endingNode),this.logic.setDistances(),this.logic.setNumberOfEdges();for(var i=this.logic.getStartingNode();0!=this.logic.getUnvisitedNodes().length;)this.logic.performDijkstra(i),i=this.logic.getUnvisitedNodes()[0];for(e=0;e<this.logic.getVisitedNodes().length;e++)this.draw.highlightSquare(this.logic.getVisitedNodes()[e].getId(),"green");console.log(this.logic.getVisitedNodes());var n=[];for(e=0;e<this.logic.getVisitedNodes().length;e++)"F"==this.logic.getVisitedNodes()[e].getStatus()&&n.push(this.logic.getVisitedNodes()[e]);console.log(this.logic.getEndingNode());for(var o=this.logic.getEndingNode();"S"!=o.getNodePastThrough().getStatus();)t.push(o),o=o.getNodePastThrough();for(t.push(o),t.shift(),t.push(o.getNodePastThrough()),e=0;e<t.length;e++)this.draw.highlightSquare(t[e].getId(),"yellow")},t}())(new g(45,20)).startApplication()})();